"use strict";

var when = require('when');
var _ = require('lodash-node');
var getType = require('./getType');

function parser (tpl, cfg) {
    var result = getType('', '', tpl, cfg);

    if (_.isString(result)) {
        return when.reject(result);
    } else {
        return when.resolve(result);
    }
}

module.exports = parser;