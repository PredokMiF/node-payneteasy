"use strict";

/* Описание работы с числами.
 * В валидатор сразу можно передавать элементарные типы, в частности числа.
 * Поведение аналогично строкам и bool
 */

var v = require('../app');

module.exports = {
    // Проверяем что валидация по числу работает
    'test-num-cc642b14-1dc2-41df-ac6f-2fe39bcf0cef': function (test) {
        var tpl = v('number');
        tpl(1).
            then(function (result) {
                test.equals(result, 1);
            }, function (err) {
                test.ok(false, 'Ошибки быть не должно: ' + err);
            }).done(function () { test.done(); });
    },
    'test-num-9d5353f4-37e2-4e36-95c0-114c28a217c4': function (test) {
        var tpl = v('num');
        tpl(1).
            then(function (result) {
                test.equals(result, 1);
            }, function (err) {
                test.ok(false, 'Ошибки быть не должно: ' + err);
            }).done(function () { test.done(); });
    },
    'test-num-d2666d08-c0dc-457a-b2d9-a75f503decfe': function (test) {
        var tpl = v('n');
        tpl(1).
            then(function (result) {
                test.equals(result, 1);
            }, function (err) {
                test.ok(false, 'Ошибки быть не должно: ' + err);
            }).done(function () { test.done(); });
    },
    'test-num-3aeb3b98-b099-4ea4-a8f5-586481a1f903': function (test) {
        var tpl = v('n');
        tpl(0).
            then(function (result) {
                test.equals(result, 0);
            }, function (err) {
                test.ok(false, 'Ошибки быть не должно: ' + err);
            }).done(function () { test.done(); });
    },
    'test-num-27042820-e7a5-4080-8832-8953ed8ad05b': function (test) {
        var tpl = v('n');
        tpl(-1).
            then(function (result) {
                test.equals(result, -1);
            }, function (err) {
                test.ok(false, 'Ошибки быть не должно: ' + err);
            }).done(function () { test.done(); });
    },
    'test-num-aee2c071-7379-48df-8a2d-6bd6203dc821': function (test) {
        var tpl = v('n');
        tpl(1.2).
            then(function (result) {
                test.equals(result, 1.2);
            }, function (err) {
                test.ok(false, 'Ошибки быть не должно: ' + err);
            }).done(function () { test.done(); });
    },
    'test-num-9b32ddee-7565-4d74-89a6-8b2eb74d9ab4': function (test) {
        var tpl = v('n');
        tpl(10000).
            then(function (result) {
                test.equals(result, 10000);
            }, function (err) {
                test.ok(false, 'Ошибки быть не должно: ' + err);
            }).done(function () { test.done(); });
    },
    'test-num-9ad9a09b-6492-44dd-b421-330be7a8372b': function (test) {
        var tpl = v('n');
        tpl(+0).
            then(function (result) {
                test.equals(result, 0);
            }, function (err) {
                test.ok(false, 'Ошибки быть не должно: ' + err);
            }).done(function () { test.done(); });
    },
    'test-num-81c86d46-2e1f-48ed-a766-058ea8e8e595': function (test) {
        var tpl = v('n');
        tpl(-0).
            then(function (result) {
                test.equals(result, 0);
            }, function (err) {
                test.ok(false, 'Ошибки быть не должно: ' + err);
            }).done(function () { test.done(); });
    },
    'test-num-fb218000-a972-4330-9f8b-28a0e3ecdf7b': function (test) {
        var tpl = v('n');
        tpl(Number.POSITIVE_INFINITY).
            then(function (result) {
                test.equals(result, Number.POSITIVE_INFINITY);
            }, function (err) {
                test.ok(false, 'Ошибки быть не должно: ' + err);
            }).done(function () { test.done(); });
    },
    'test-num-eb771408-11a9-44e1-9184-67cf3d54945c': function (test) {
        var tpl = v('n');
        tpl(Number.NEGATIVE_INFINITY).
            then(function (result) {
                test.equals(result, Number.NEGATIVE_INFINITY);
            }, function (err) {
                test.ok(false, 'Ошибки быть не должно: ' + err);
            }).done(function () { test.done(); });
    },
    'test-num-a4a3322f-8aba-4adf-a985-c7b41320a58c': function (test) {
        var tpl = v(['n', function (obj, tpl, cfg) { return obj < 0; }]);
        tpl(Number.NEGATIVE_INFINITY).
            then(function (result) {
                test.equals(result, Number.NEGATIVE_INFINITY);
            }, function (err) {
                test.ok(false, 'Ошибки быть не должно: ' + err);
            }).done(function () { test.done(); });
    },
    'test-num-6b76199f-160b-4197-90cf-c74938e2bf1b': function (test) {
        var tpl = v(['n', function (obj, tpl, cfg) { return obj === 0; }]);
        tpl(0).
            then(function (result) {
                test.equals(result, 0);
            }, function (err) {
                test.ok(false, 'Ошибки быть не должно: ' + err);
            }).done(function () { test.done(); });
    },
    'test-num-ed7f2234-3a4b-4956-8dfe-b1bfa16110d5': function (test) {
        var tpl = v('n null');
        tpl(null).
            then(function (result) {
                test.equals(result, null);
            }, function (err) {
                test.ok(false, 'Ошибки быть не должно: ' + err);
            }).done(function () { test.done(); });
    },
    'test-num-33c3e59e-14de-4fdb-a47f-beb6147a1328': function (test) {
        var tpl = v('n toNum null');
        tpl('').
            then(function (result) {
                test.equals(result, null);
            }, function (err) {
                test.ok(false, 'Ошибки быть не должно: ' + err);
            }).done(function () { test.done(); });
    },
    'test-num-6c64a5f7-2530-46e8-a254-8a761c38c3ff': function (test) {
        var tpl = v(['n toNum null', function (val) {return false;}]);
        tpl('').
            then(function (result) {
                test.equals(result, null);
            }, function (err) {
                test.ok(false, 'Ошибки быть не должно: ' + err);
            }).done(function () { test.done(); });
    },
    // Ломаем
    'test-num-98b7ccf9-11e4-4f60-96e4-b17597ebd638': function (test) {
        var tpl = v('n');
        tpl().
            then(function (result) {
                test.ok(false, 'Должна быть ошибка');
            }, function (err) {
                test.ok(err);
            }).done(function () { test.done(); });
    },
    'test-num-6dc78475-d21e-4aae-976f-6b3ab0f5e067': function (test) {
        var tpl = v('n');
        tpl(null).
            then(function (result) {
                test.ok(false, 'Должна быть ошибка');
            }, function (err) {
                test.ok(err);
            }).done(function () { test.done(); });
    },
    'test-num-e2d17232-a2f4-4195-904e-18e53b3ff4a8': function (test) {
        var tpl = v('n');
        tpl('').
            then(function (result) {
                test.ok(false, 'Должна быть ошибка');
            }, function (err) {
                test.ok(err);
            }).done(function () { test.done(); });
    },
    'test-num-9a216fe6-df23-4a7e-9862-4c969a20b288': function (test) {
        var tpl = v('n');
        tpl('0').
            then(function (result) {
                test.ok(false, 'Должна быть ошибка');
            }, function (err) {
                test.ok(err);
            }).done(function () { test.done(); });
    },
    'test-num-0d66befa-9d59-4681-b274-dcb947788ec0': function (test) {
        var tpl = v('n');
        tpl('1').
            then(function (result) {
                test.ok(false, 'Должна быть ошибка');
            }, function (err) {
                test.ok(err);
            }).done(function () { test.done(); });
    },
    'test-num-a0b7555e-8962-4f8a-9c9e-f33743ba5d3a': function (test) {
        var tpl = v('n');
        tpl(function(){}).
            then(function (result) {
                test.ok(false, 'Должна быть ошибка');
            }, function (err) {
                test.ok(err);
            }).done(function () { test.done(); });
    },
    'test-num-0aae73a6-22a6-4251-8192-b15cfa71e2d3': function (test) {
        var tpl = v('n');
        tpl([]).
            then(function (result) {
                test.ok(false, 'Должна быть ошибка');
            }, function (err) {
                test.ok(err);
            }).done(function () { test.done(); });
    },
    'test-num-f7b44356-7414-4851-a0d2-76b2a45ac71d': function (test) {
        var tpl = v('n');
        tpl({}).
            then(function (result) {
                test.ok(false, 'Должна быть ошибка');
            }, function (err) {
                test.ok(err);
            }).done(function () { test.done(); });
    },
    'test-num-24176067-1f2c-4f6e-99a9-9a1e571429bf': function (test) {
        var tpl = v('n');
        tpl(true).
            then(function (result) {
                test.ok(false, 'Должна быть ошибка');
            }, function (err) {
                test.ok(err);
            }).done(function () { test.done(); });
    },
    'test-num-1f4811ab-355e-47af-8c5a-6c03112f40f5': function (test) {
        var tpl = v('n');
        tpl(false).
            then(function (result) {
                test.ok(false, 'Должна быть ошибка');
            }, function (err) {
                test.ok(err);
            }).done(function () { test.done(); });
    },
    'test-num-cc08e4c0-c738-4e9f-8d24-4a76d12c7321': function (test) {
        var tpl = v('n');
        tpl(new Date()).
            then(function (result) {
                test.ok(false, 'Должна быть ошибка');
            }, function (err) {
                test.ok(err);
            }).done(function () { test.done(); });
    },
    'test-num-32a6829b-4b1f-43a0-924f-c298055c0eff': function (test) {
        var tpl = v('n');
        tpl(NaN).
            then(function (result) {
                test.ok(false, 'Должна быть ошибка');
            }, function (err) {
                test.ok(err);
            }).done(function () { test.done(); });
    },
    'test-num-f108c08b-a940-445c-b979-4c443e07a54e': function (test) {
        var tpl = v(['n', function (obj, tpl, cfg) { return !(obj === 0); }]);
        tpl(0).
            then(function (result) {
                test.ok(false, 'Должна быть ошибка');
            }, function (err) {
                test.ok(err);
            }).done(function () { test.done(); });
    },
    // Конвертация из строки в число
    'test-num-9546f2f5-1483-49fe-b884-a837c9918672': function (test) {
        var tpl = v('num toNumber');
        tpl('1').
            then(function (result) {
                test.equals(result, 1);
            }, function (err) {
                test.ok(false, 'Ошибки быть не должно: ' + err);
            }).done(function () { test.done(); });
    },
    'test-num-cd9f07cd-cd2d-4402-a9cc-b27b3040700f': function (test) {
        var tpl = v('n toNum');
        tpl('1').
            then(function (result) {
                test.equals(result, 1);
            }, function (err) {
                test.ok(false, 'Ошибки быть не должно: ' + err);
            }).done(function () { test.done(); });
    },
    'test-num-c67dea37-00fc-4879-ade6-b35850c3ea18': function (test) {
        var tpl = v('n toNum');
        tpl('0').
            then(function (result) {
                test.equals(result, 0);
            }, function (err) {
                test.ok(false, 'Ошибки быть не должно: ' + err);
            }).done(function () { test.done(); });
    },
    'test-num-3f6fe554-6a63-44e8-bc50-cf7d9e7e558a': function (test) {
        var tpl = v('n toNum');
        tpl('-0').
            then(function (result) {
                test.equals(result, 0);
            }, function (err) {
                test.ok(false, 'Ошибки быть не должно: ' + err);
            }).done(function () { test.done(); });
    },
    'test-num-5c57270a-d0bd-4daa-9e88-e7413c2f14cc': function (test) {
        var tpl = v('n toNum');
        tpl('1.1').
            then(function (result) {
                test.equals(result, 1.1);
            }, function (err) {
                test.ok(false, 'Ошибки быть не должно: ' + err);
            }).done(function () { test.done(); });
    },
    'test-num-9ea9a021-56a0-42e4-a317-62951f1b1e29': function (test) {
        var tpl = v('n toNum');
        tpl('1,1').
            then(function (result) {
                test.equals(result, 1.1);
            }, function (err) {
                test.ok(false, 'Ошибки быть не должно: ' + err);
            }).done(function () { test.done(); });
    },
    'test-num-e0496a82-b3e9-4f23-915a-9f8553e53b8b': function (test) {
        var tpl = v('n toNum');
        tpl('-2').
            then(function (result) {
                test.equals(result, -2);
            }, function (err) {
                test.ok(false, 'Ошибки быть не должно: ' + err);
            }).done(function () { test.done(); });
    },
    'test-num-e2d449d4-0f50-4717-a0d7-8b5c382cd6b8': function (test) {
        var tpl = v('n toNum');
        tpl('-2.0').
            then(function (result) {
                test.equals(result, -2);
            }, function (err) {
                test.ok(false, 'Ошибки быть не должно: ' + err);
            }).done(function () { test.done(); });
    },
    // Ломаем
    'test-num-2b4bc210-5c77-44d7-9450-5eae6ffeb5a7': function (test) {
        var tpl = v('n toNum');
        tpl().
            then(function (result) {
                test.ok(false, 'Должна быть ошибка');
            }, function (err) {
                test.ok(err);
            }).done(function () { test.done(); });
    },
    'test-num-74a8b057-1aef-4ff1-bacf-66eefd5c1998': function (test) {
        var tpl = v('n toNum');
        tpl(undefined).
            then(function (result) {
                test.ok(false, 'Должна быть ошибка');
            }, function (err) {
                test.ok(err);
            }).done(function () { test.done(); });
    },
    'test-num-8aa4fa87-632f-4f22-9dde-9d50d7d849fe': function (test) {
        var tpl = v('n toNum');
        tpl(null).
            then(function (result) {
                test.ok(false, 'Должна быть ошибка');
            }, function (err) {
                test.ok(err);
            }).done(function () { test.done(); });
    },
    'test-num-73346e08-5cfc-4553-8e05-51b6c6ef625b': function (test) {
        var tpl = v('n toNum');
        tpl(NaN).
            then(function (result) {
                test.ok(false, 'Должна быть ошибка');
            }, function (err) {
                test.ok(err);
            }).done(function () { test.done(); });
    },
    'test-num-a95d1287-076a-4c07-9bb4-3a72af3e1e4b': function (test) {
        var tpl = v('n toNum');
        tpl(Number.POSITIVE_INFINITY).
            then(function (result) {
                test.ok(false, 'Должна быть ошибка');
            }, function (err) {
                test.ok(err);
            }).done(function () { test.done(); });
    },
    'test-num-1730366f-f8be-4287-9a59-13ca83b4cbb0': function (test) {
        var tpl = v('n toNum');
        tpl(Number.NEGATIVE_INFINITY).
            then(function (result) {
                test.ok(false, 'Должна быть ошибка');
            }, function (err) {
                test.ok(err);
            }).done(function () { test.done(); });
    },
    'test-num-a822e6b5-45e7-4e2f-a283-c0fd56f314b6': function (test) {
        var tpl = v('n toNum');
        tpl('').
            then(function (result) {
                test.ok(false, 'Должна быть ошибка');
            }, function (err) {
                test.ok(err);
            }).done(function () { test.done(); });
    },
    'test-num-813e04bd-4bb2-46b2-a335-6c2eb32d8922': function (test) {
        var tpl = v('n toNum');
        tpl(true).
            then(function (result) {
                test.ok(false, 'Должна быть ошибка');
            }, function (err) {
                test.ok(err);
            }).done(function () { test.done(); });
    },
    'test-num-b3857329-db6d-42bc-bf13-5b7d4c1fbc24': function (test) {
        var tpl = v('n toNum');
        tpl(false).
            then(function (result) {
                test.ok(false, 'Должна быть ошибка');
            }, function (err) {
                test.ok(err);
            }).done(function () { test.done(); });
    },
    'test-num-1756babd-9ed5-4a31-af99-56639466d2d0': function (test) {
        var tpl = v('n toNum');
        tpl([]).
            then(function (result) {
                test.ok(false, 'Должна быть ошибка');
            }, function (err) {
                test.ok(err);
            }).done(function () { test.done(); });
    },
    'test-num-4942a96e-c15a-42d5-a23b-c31de85de3c5': function (test) {
        var tpl = v('n toNum');
        tpl({}).
            then(function (result) {
                test.ok(false, 'Должна быть ошибка');
            }, function (err) {
                test.ok(err);
            }).done(function () { test.done(); });
    },
    'test-num-534e7cb9-ca50-4e78-a00e-b2a97e997cf2': function (test) {
        var tpl = v('n toNum');
        tpl('q').
            then(function (result) {
                test.ok(false, 'Должна быть ошибка');
            }, function (err) {
                test.ok(err);
            }).done(function () { test.done(); });
    },
    'test-num-9f61b914-6350-4a6e-8382-6e79115ec380': function (test) {
        var tpl = v('n toNum');
        tpl('1q').
            then(function (result) {
                test.ok(false, 'Должна быть ошибка');
            }, function (err) {
                test.ok(err);
            }).done(function () { test.done(); });
    },
    'test-num-6c5ccc65-aaaf-4629-9361-a5e60c022057': function (test) {
        var tpl = v('n toNum');
        tpl(function(){}).
            then(function (result) {
                test.ok(false, 'Должна быть ошибка');
            }, function (err) {
                test.ok(err);
            }).done(function () { test.done(); });
    },
    // Проверка на finite
    'test-num-d86b8397-8dd0-4e72-85b4-f37ee100b666': function (test) {
        var tpl = v('num finite');
        tpl(1).
            then(function (result) {
                test.equals(result, 1);
            }, function (err) {
                test.ok(false, 'Ошибки быть не должно: ' + err);
            }).done(function () { test.done(); });
    },
    'test-num-197be321-5bb9-4f2c-ad88-c86113dd9ec9': function (test) {
        var tpl = v('n finite');
        tpl(0).
            then(function (result) {
                test.equals(result, 0);
            }, function (err) {
                test.ok(false, 'Ошибки быть не должно: ' + err);
            }).done(function () { test.done(); });
    },
    'test-num-cd2187d2-95ce-425c-9e65-ce18013e6718': function (test) {
        var tpl = v('n finite');
        tpl(-0).
            then(function (result) {
                test.equals(result, 0);
            }, function (err) {
                test.ok(false, 'Ошибки быть не должно: ' + err);
            }).done(function () { test.done(); });
    },
    'test-num-a0f1a1d7-f322-48b6-9a30-17e08e0e4a2b': function (test) {
        var tpl = v('n finite');
        tpl(1.1).
            then(function (result) {
                test.equals(result, 1.1);
            }, function (err) {
                test.ok(false, 'Ошибки быть не должно: ' + err);
            }).done(function () { test.done(); });
    },
    'test-num-f55efd15-3a09-41b9-82b4-815e8d5dba82': function (test) {
        var tpl = v('n finite');
        tpl(-2).
            then(function (result) {
                test.equals(result, -2);
            }, function (err) {
                test.ok(false, 'Ошибки быть не должно: ' + err);
            }).done(function () { test.done(); });
    },
    'test-num-de0a5f22-2936-403a-865d-9e72efc0e4c2': function (test) {
        var tpl = v('n finite');
        tpl(-2.0).
            then(function (result) {
                test.equals(result, -2);
            }, function (err) {
                test.ok(false, 'Ошибки быть не должно: ' + err);
            }).done(function () { test.done(); });
    },
    // Ломаем
    'test-num-757e8b73-e4af-463b-ad89-ea1ed404ea0e': function (test) {
        var tpl = v('n finite');
        tpl().
            then(function (result) {
                test.ok(false, 'Должна быть ошибка');
            }, function (err) {
                test.ok(err);
            }).done(function () { test.done(); });
    },
    'test-num-ec70c2c5-e872-403a-a326-03067e3de7b0': function (test) {
        var tpl = v('n finite');
        tpl(null).
            then(function (result) {
                test.ok(false, 'Должна быть ошибка');
            }, function (err) {
                test.ok(err);
            }).done(function () { test.done(); });
    },
    'test-num-e6efcd2b-6928-47e7-a3ee-3d07f60b69bf': function (test) {
        var tpl = v('n finite');
        tpl(undefined).
            then(function (result) {
                test.ok(false, 'Должна быть ошибка');
            }, function (err) {
                test.ok(err);
            }).done(function () { test.done(); });
    },
    'test-num-80b498e6-234a-4748-9f6f-217da5abf65d': function (test) {
        var tpl = v('n finite');
        tpl(NaN).
            then(function (result) {
                test.ok(false, 'Должна быть ошибка');
            }, function (err) {
                test.ok(err);
            }).done(function () { test.done(); });
    },
    'test-num-b202a633-063b-4f62-8b4a-4797450595f9': function (test) {
        var tpl = v('n finite');
        tpl(Number.POSITIVE_INFINITY).
            then(function (result) {
                test.ok(false, 'Должна быть ошибка');
            }, function (err) {
                test.ok(err);
            }).done(function () { test.done(); });
    },
    'test-num-120f636e-31e2-4d04-86b9-c840b014e344': function (test) {
        var tpl = v('n finite');
        tpl(Number.NEGATIVE_INFINITY).
            then(function (result) {
                test.ok(false, 'Должна быть ошибка');
            }, function (err) {
                test.ok(err);
            }).done(function () { test.done(); });
    },
    'test-num-15d1e8e7-d128-4407-b986-d08decff2ce3': function (test) {
        var tpl = v('n finite');
        tpl(function(){}).
            then(function (result) {
                test.ok(false, 'Должна быть ошибка');
            }, function (err) {
                test.ok(err);
            }).done(function () { test.done(); });
    },
    'test-num-901033f5-5b26-4998-af4a-97ee3aa2d54d': function (test) {
        var tpl = v('n finite');
        tpl([]).
            then(function (result) {
                test.ok(false, 'Должна быть ошибка');
            }, function (err) {
                test.ok(err);
            }).done(function () { test.done(); });
    },
    'test-num-10c9d173-ae80-4e5d-9a15-d487211695c4': function (test) {
        var tpl = v('n finite');
        tpl({}).
            then(function (result) {
                test.ok(false, 'Должна быть ошибка');
            }, function (err) {
                test.ok(err);
            }).done(function () { test.done(); });
    },
    // Min
    'test-num-e3b4036c-f220-4aaa-8a72-a88b74200522': function (test) {
        var tpl = v('n min 1');
        tpl(1).
            then(function (result) {
                test.equals(result, 1);
            }, function (err) {
                test.ok(false, 'Ошибки быть не должно: ' + err);
            }).done(function () { test.done(); });
    },
    'test-num-adad3d6d-3cb6-4244-822b-b4bbecee54fc': function (test) {
        var tpl = v('n min 1');
        tpl(2).
            then(function (result) {
                test.equals(result, 2);
            }, function (err) {
                test.ok(false, 'Ошибки быть не должно: ' + err);
            }).done(function () { test.done(); });
    },
    'test-num-24829736-f631-4381-9b75-889ab1878082': function (test) {
        var tpl = v('n min 1');
        tpl(50000).
            then(function (result) {
                test.equals(result, 50000);
            }, function (err) {
                test.ok(false, 'Ошибки быть не должно: ' + err);
            }).done(function () { test.done(); });
    },
    'test-num-f1e111bd-3023-4707-892a-ef1e49b28414': function (test) {
        var tpl = v('n min 0');
        tpl(0).
            then(function (result) {
                test.equals(result, 0);
            }, function (err) {
                test.ok(false, 'Ошибки быть не должно: ' + err);
            }).done(function () { test.done(); });
    },
    'test-num-9aabbda1-999c-420c-97b0-a1d0a15f300c': function (test) {
        var tpl = v('n min 0');
        tpl(1).
            then(function (result) {
                test.equals(result, 1);
            }, function (err) {
                test.ok(false, 'Ошибки быть не должно: ' + err);
            }).done(function () { test.done(); });
    },
    'test-num-2e2b9027-2fe0-4762-bf95-9a93f5181e1d': function (test) {
        var tpl = v('n min 0');
        tpl(50000).
            then(function (result) {
                test.equals(result, 50000);
            }, function (err) {
                test.ok(false, 'Ошибки быть не должно: ' + err);
            }).done(function () { test.done(); });
    },
    'test-num-8160ea22-6dfe-44b3-9375-dec3524a842b': function (test) {
        var tpl = v('n min -2');
        tpl(-2).
            then(function (result) {
                test.equals(result, -2);
            }, function (err) {
                test.ok(false, 'Ошибки быть не должно: ' + err);
            }).done(function () { test.done(); });
    },
    'test-num-c8e8726f-6ea5-447b-83fa-94ed7661a2e1': function (test) {
        var tpl = v('n min -2');
        tpl(0).
            then(function (result) {
                test.equals(result, 0);
            }, function (err) {
                test.ok(false, 'Ошибки быть не должно: ' + err);
            }).done(function () { test.done(); });
    },
    'test-num-c88ece15-64a6-450a-96d1-fb30647e1692': function (test) {
        var tpl = v('n min -2');
        tpl(6).
            then(function (result) {
                test.equals(result, 6);
            }, function (err) {
                test.ok(false, 'Ошибки быть не должно: ' + err);
            }).done(function () { test.done(); });
    },
    'test-num-06481a6c-7f9f-4afe-a9f2-596d4c8d6b75': function (test) {
        var tpl = v('n min -2.2');
        tpl(-2.1).
            then(function (result) {
                test.equals(result, -2.1);
            }, function (err) {
                test.ok(false, 'Ошибки быть не должно: ' + err);
            }).done(function () { test.done(); });
    },
    // Ломаем
    'test-num-0df00ef8-4669-4cc0-975f-d08948494604': function (test) {
        var tpl = v('n min 0');
        tpl(-1).
            then(function (result) {
                test.ok(false, 'Должна быть ошибка');
            }, function (err) {
                test.ok(err);
            }).done(function () { test.done(); });
    },
    'test-num-2a89d0d8-69fc-482b-a733-93db7f1e07c2': function (test) {
        var tpl = v('n min 1.1');
        tpl(1).
            then(function (result) {
                test.ok(false, 'Должна быть ошибка');
            }, function (err) {
                test.ok(err);
            }).done(function () { test.done(); });
    },
    'test-num-89fef003-c519-4618-802f-9270e2980a00': function (test) {
        var tpl = v('n min 1.1');
        tpl(-1).
            then(function (result) {
                test.ok(false, 'Должна быть ошибка');
            }, function (err) {
                test.ok(err);
            }).done(function () { test.done(); });
    },
    // Max
    'test-num-0c9fc87b-e69b-4dc2-9d05-f85cf338aec1': function (test) {
        var tpl = v('n max 1');
        tpl(1).
            then(function (result) {
                test.equals(result, 1);
            }, function (err) {
                test.ok(false, 'Ошибки быть не должно: ' + err);
            }).done(function () { test.done(); });
    },
    'test-num-64df2941-d390-424f-ad21-fbb1a6b86c6e': function (test) {
        var tpl = v('n max 1');
        tpl(0).
            then(function (result) {
                test.equals(result, 0);
            }, function (err) {
                test.ok(false, 'Ошибки быть не должно: ' + err);
            }).done(function () { test.done(); });
    },
    'test-num-c950457a-6221-466a-ad5f-05f95fe34c6b': function (test) {
        var tpl = v('n max 1');
        tpl(-50000).
            then(function (result) {
                test.equals(result, -50000);
            }, function (err) {
                test.ok(false, 'Ошибки быть не должно: ' + err);
            }).done(function () { test.done(); });
    },
    'test-num-20530899-f593-4a02-93c9-b5bf952db8f0': function (test) {
        var tpl = v('n max 0');
        tpl(0).
            then(function (result) {
                test.equals(result, 0);
            }, function (err) {
                test.ok(false, 'Ошибки быть не должно: ' + err);
            }).done(function () { test.done(); });
    },
    'test-num-11060d57-5d1e-4ac1-90fc-777d68bad6b4': function (test) {
        var tpl = v('n max 0');
        tpl(-1).
            then(function (result) {
                test.equals(result, -1);
            }, function (err) {
                test.ok(false, 'Ошибки быть не должно: ' + err);
            }).done(function () { test.done(); });
    },
    'test-num-fee6dadc-d349-4a14-81bd-24066276ada3': function (test) {
        var tpl = v('n max 0');
        tpl(-50000).
            then(function (result) {
                test.equals(result, -50000);
            }, function (err) {
                test.ok(false, 'Ошибки быть не должно: ' + err);
            }).done(function () { test.done(); });
    },
    'test-num-392412cb-cf0a-4f6e-a82f-5ca8c9f5157c': function (test) {
        var tpl = v('n max -2');
        tpl(-2).
            then(function (result) {
                test.equals(result, -2);
            }, function (err) {
                test.ok(false, 'Ошибки быть не должно: ' + err);
            }).done(function () { test.done(); });
    },
    'test-num-00565ac4-d335-4f7c-80ec-ac45593d30f9': function (test) {
        var tpl = v('n max -2');
        tpl(-4).
            then(function (result) {
                test.equals(result, -4);
            }, function (err) {
                test.ok(false, 'Ошибки быть не должно: ' + err);
            }).done(function () { test.done(); });
    },
    'test-num-f857faa7-b6c6-433e-85f6-02323cb71632': function (test) {
        var tpl = v('n max 10');
        tpl(-6).
            then(function (result) {
                test.equals(result, -6);
            }, function (err) {
                test.ok(false, 'Ошибки быть не должно: ' + err);
            }).done(function () { test.done(); });
    },
    'test-num-1fe97ae7-6be9-411f-88cf-fee3cb013a41': function (test) {
        var tpl = v('n max 10');
        tpl(-6).
            then(function (result) {
                test.equals(result, -6);
            }, function (err) {
                test.ok(false, 'Ошибки быть не должно: ' + err);
            }).done(function () { test.done(); });
    },
    'test-num-6233e407-89a2-41c3-8d04-6f349e710ae7': function (test) {
        var tpl = v('n max 10');
        tpl(-6).
            then(function (result) {
                test.equals(result, -6);
            }, function (err) {
                test.ok(false, 'Ошибки быть не должно: ' + err);
            }).done(function () { test.done(); });
    },
    'test-num-4a8ed816-3c82-491f-9147-fb95b11b1dd2': function (test) {
        var tpl = v('n max 10');
        tpl(-6).
            then(function (result) {
                test.equals(result, -6);
            }, function (err) {
                test.ok(false, 'Ошибки быть не должно: ' + err);
            }).done(function () { test.done(); });
    },
    'test-num-90a5159b-40c8-4385-be12-56b2c3a04e90': function (test) {
        var tpl = v('n max -2');
        tpl(-6).
            then(function (result) {
                test.equals(result, -6);
            }, function (err) {
                test.ok(false, 'Ошибки быть не должно: ' + err);
            }).done(function () { test.done(); });
    },
    'test-num-163e18f4-25b7-47be-80e2-ba1c4090ba2b': function (test) {
        var tpl = v('n max -2.2');
        tpl(-2.3).
            then(function (result) {
                test.equals(result, -2.3);
            }, function (err) {
                test.ok(false, 'Ошибки быть не должно: ' + err);
            }).done(function () { test.done(); });
    },
    // Ломаем
    'test-num-562c4ff5-6dbc-4f6e-8bfa-fd0264c86fcb': function (test) {
        var tpl = v('n max 0');
        tpl(1).
            then(function (result) {
                test.ok(false, 'Должна быть ошибка');
            }, function (err) {
                test.ok(err);
            }).done(function () { test.done(); });
    },
    'test-num-411a6ce0-56c2-4633-8f19-6f4a38b977d8': function (test) {
        var tpl = v('n max 1.1');
        tpl(2).
            then(function (result) {
                test.ok(false, 'Должна быть ошибка');
            }, function (err) {
                test.ok(err);
            }).done(function () { test.done(); });
    },
    'test-num-957f7c3d-c4f3-479c-95dd-e3f7f511d629': function (test) {
        var tpl = v('n max -1.1');
        tpl(1).
            then(function (result) {
                test.ok(false, 'Должна быть ошибка');
            }, function (err) {
                test.ok(err);
            }).done(function () { test.done(); });
    },
    // isCeil
    'test-num-d960ad08-a0a6-42a5-a25b-a80eb74ac90c': function (test) {
        var tpl = v('n isCeil');
        tpl(0).
            then(function (result) {
                test.equals(result, 0);
            }, function (err) {
                test.ok(false, 'Ошибки быть не должно: ' + err);
            }).done(function () { test.done(); });
    },
    'test-num-ec3b43fb-955a-4ddd-83f5-df994efe23ab': function (test) {
        var tpl = v('n isCeil');
        tpl(1).
            then(function (result) {
                test.equals(result, 1);
            }, function (err) {
                test.ok(false, 'Ошибки быть не должно: ' + err);
            }).done(function () { test.done(); });
    },
    'test-num-db5a436f-083e-4227-bc8b-bb53ee0457bc': function (test) {
        var tpl = v('n isCeil');
        tpl(-1).
            then(function (result) {
                test.equals(result, -1);
            }, function (err) {
                test.ok(false, 'Ошибки быть не должно: ' + err);
            }).done(function () { test.done(); });
    },
    'test-num-7b4b93d6-e5f3-4bf5-968d-36df2ac346d3': function (test) {
        var tpl = v('n isCeil');
        tpl(1.0).
            then(function (result) {
                test.equals(result, 1);
            }, function (err) {
                test.ok(false, 'Ошибки быть не должно: ' + err);
            }).done(function () { test.done(); });
    },
    // Ломаем
    'test-num-405ff7c0-c024-4ede-afe6-cbaf36635010': function (test) {
        var tpl = v('n isCeil');
        tpl(1.1).
            then(function (result) {
                test.ok(false, 'Должна быть ошибка');
            }, function (err) {
                test.ok(err);
            }).done(function () { test.done(); });
    },
    'test-num-5ac377ee-6173-456f-94a5-1ddb2ac07a29': function (test) {
        var tpl = v('n isCeil');
        tpl(0.1).
            then(function (result) {
                test.ok(false, 'Должна быть ошибка');
            }, function (err) {
                test.ok(err);
            }).done(function () { test.done(); });
    },
    'test-num-ec5e289b-9c57-4ae9-b5a7-4e2313dc7a07': function (test) {
        var tpl = v('n isCeil');
        tpl(-5.1).
            then(function (result) {
                test.ok(false, 'Должна быть ошибка');
            }, function (err) {
                test.ok(err);
            }).done(function () { test.done(); });
    },
    // toFixed
    'test-num-bd04315c-cff8-44e7-a093-d2e6f1a2a5d2': function (test) {
        var tpl = v('n toFixed 2');
        tpl(1.2345).
            then(function (result) {
                test.equals(result, 1.23);
            }, function (err) {
                test.ok(false, 'Ошибки быть не должно: ' + err);
            }).done(function () { test.done(); });
    },
    'test-num-0478819e-5e53-4a21-b87a-e90f32a36bf2': function (test) {
        var tpl = v('n toFixed 2');
        tpl(1.23).
            then(function (result) {
                test.equals(result, 1.23);
            }, function (err) {
                test.ok(false, 'Ошибки быть не должно: ' + err);
            }).done(function () { test.done(); });
    },
    'test-num-9c39352d-f8d1-4232-8498-e59ecd21b7d7': function (test) {
        var tpl = v('n toFixed 2');
        tpl(1.2).
            then(function (result) {
                test.equals(result, 1.2);
            }, function (err) {
                test.ok(false, 'Ошибки быть не должно: ' + err);
            }).done(function () { test.done(); });
    },
    'test-num-61ba3b9e-951a-46a5-9598-d3f56712570c': function (test) {
        var tpl = v('n toFixed 0');
        tpl(1.2).
            then(function (result) {
                test.equals(result, 1);
            }, function (err) {
                test.ok(false, 'Ошибки быть не должно: ' + err);
            }).done(function () { test.done(); });
    },
    'test-num-ce667b24-3166-4ff7-a612-5f418ea4be82': function (test) {
        var tpl = v('n toFixed 2');
        tpl(1.0).
            then(function (result) {
                test.equals(result, 1);
            }, function (err) {
                test.ok(false, 'Ошибки быть не должно: ' + err);
            }).done(function () { test.done(); });
    },
    // Ломаем
    'test-num-68e21dbc-20a2-4e69-83cf-81d59804c012': function (test) {
        var tpl = v('n toFixed -1');
        tpl(1.1).
            then(function (result) {
                test.ok(false, 'Должна быть ошибка');
            }, function (err) {
                test.ok(err);
            }).done(function () { test.done(); });
    },
    // ceil
    'test-num-7397e584-68cf-463f-89a2-4decd1d5b102': function (test) {
        var tpl = v('n ceil');
        tpl(4.5).
            then(function (result) {
                test.equals(result, 5);
            }, function (err) {
                test.ok(false, 'Ошибки быть не должно: ' + err);
            }).done(function () { test.done(); });
    },
    'test-num-b04e33a8-6b64-4185-ad25-43a42771816b': function (test) {
        var tpl = v('n ceil');
        tpl(1.0).
            then(function (result) {
                test.equals(result, 1);
            }, function (err) {
                test.ok(false, 'Ошибки быть не должно: ' + err);
            }).done(function () { test.done(); });
    },
    'test-num-ca38078c-8ae1-4f03-8df0-379957470b6f': function (test) {
        var tpl = v('n ceil');
        tpl(1.1).
            then(function (result) {
                test.equals(result, 2);
            }, function (err) {
                test.ok(false, 'Ошибки быть не должно: ' + err);
            }).done(function () { test.done(); });
    },
    'test-num-65afaf58-4e70-40de-8c88-2112e8f55bbb': function (test) {
        var tpl = v('n ceil');
        tpl(1.5).
            then(function (result) {
                test.equals(result, 2);
            }, function (err) {
                test.ok(false, 'Ошибки быть не должно: ' + err);
            }).done(function () { test.done(); });
    },
    'test-num-b2086158-9bde-44bc-8261-1ba5f5377902': function (test) {
        var tpl = v('n ceil');
        tpl(1.9).
            then(function (result) {
                test.equals(result, 2);
            }, function (err) {
                test.ok(false, 'Ошибки быть не должно: ' + err);
            }).done(function () { test.done(); });
    },
    'test-num-99797089-74c6-463d-a3cd-b2c1ffda3364': function (test) {
        var tpl = v('n ceil');
        tpl(0).
            then(function (result) {
                test.equals(result, 0);
            }, function (err) {
                test.ok(false, 'Ошибки быть не должно: ' + err);
            }).done(function () { test.done(); });
    },
    'test-num-6c7f2f80-9f83-4001-873c-d8997cfb1635': function (test) {
        var tpl = v('n ceil');
        tpl(0.1).
            then(function (result) {
                test.equals(result, 1);
            }, function (err) {
                test.ok(false, 'Ошибки быть не должно: ' + err);
            }).done(function () { test.done(); });
    },
    'test-num-c822b62a-8fb8-45c2-a845-93b2fad1d985': function (test) {
        var tpl = v('n ceil');
        tpl(0.5).
            then(function (result) {
                test.equals(result, 1);
            }, function (err) {
                test.ok(false, 'Ошибки быть не должно: ' + err);
            }).done(function () { test.done(); });
    },
    'test-num-2e32c2f8-b926-4325-9568-5886ef97f626': function (test) {
        var tpl = v('n ceil');
        tpl(0.9).
            then(function (result) {
                test.equals(result, 1);
            }, function (err) {
                test.ok(false, 'Ошибки быть не должно: ' + err);
            }).done(function () { test.done(); });
    },
    'test-num-8edf063c-f00e-4f02-b793-d153ad40e44e': function (test) {
        var tpl = v('n ceil');
        tpl(-0.1).
            then(function (result) {
                test.equals(result, 0);
            }, function (err) {
                test.ok(false, 'Ошибки быть не должно: ' + err);
            }).done(function () { test.done(); });
    },
    'test-num-9a4cfb5a-fe78-45c7-9a2e-eeb1d2c1037f': function (test) {
        var tpl = v('n ceil');
        tpl(-0.5).
            then(function (result) {
                test.equals(result, 0);
            }, function (err) {
                test.ok(false, 'Ошибки быть не должно: ' + err);
            }).done(function () { test.done(); });
    },
    'test-num-a8b01321-14fb-44fe-995b-25a87fde78dc': function (test) {
        var tpl = v('n ceil');
        tpl(-0.9).
            then(function (result) {
                test.equals(result, 0);
            }, function (err) {
                test.ok(false, 'Ошибки быть не должно: ' + err);
            }).done(function () { test.done(); });
    },
    'test-num-3a259ee2-326b-4fad-aecb-be2d2b7add64': function (test) {
        var tpl = v('n ceil');
        tpl(-1).
            then(function (result) {
                test.equals(result, -1);
            }, function (err) {
                test.ok(false, 'Ошибки быть не должно: ' + err);
            }).done(function () { test.done(); });
    },
    'test-num-5aff7d36-c5ed-4f0d-aa54-ed94fd61f7a8': function (test) {
        var tpl = v('n ceil');
        tpl(-4.5).
            then(function (result) {
                test.equals(result, -4);
            }, function (err) {
                test.ok(false, 'Ошибки быть не должно: ' + err);
            }).done(function () { test.done(); });
    },
    // floor
    'test-num-9fde5439-42eb-429b-b5fd-1788a57d4933': function (test) {
        var tpl = v('n floor');
        tpl(4.5).
            then(function (result) {
                test.equals(result, 4);
            }, function (err) {
                test.ok(false, 'Ошибки быть не должно: ' + err);
            }).done(function () { test.done(); });
    },
    'test-num-04be0f64-cb4d-4f25-aea9-b19fd773a1f0': function (test) {
        var tpl = v('n floor');
        tpl(1.0).
            then(function (result) {
                test.equals(result, 1);
            }, function (err) {
                test.ok(false, 'Ошибки быть не должно: ' + err);
            }).done(function () { test.done(); });
    },
    'test-num-8acf3bbd-aace-4152-a6bd-a954fb533c57': function (test) {
        var tpl = v('n floor');
        tpl(1.1).
            then(function (result) {
                test.equals(result, 1);
            }, function (err) {
                test.ok(false, 'Ошибки быть не должно: ' + err);
            }).done(function () { test.done(); });
    },
    'test-num-006d19e6-0109-40e8-837b-893a8c8609b4': function (test) {
        var tpl = v('n floor');
        tpl(1.5).
            then(function (result) {
                test.equals(result, 1);
            }, function (err) {
                test.ok(false, 'Ошибки быть не должно: ' + err);
            }).done(function () { test.done(); });
    },
    'test-num-0fa1b794-3fc3-4383-a9e9-71780f08a39f': function (test) {
        var tpl = v('n floor');
        tpl(1.9).
            then(function (result) {
                test.equals(result, 1);
            }, function (err) {
                test.ok(false, 'Ошибки быть не должно: ' + err);
            }).done(function () { test.done(); });
    },
    'test-num-5c26f262-7105-42ce-be5a-bed3b8527a97': function (test) {
        var tpl = v('n floor');
        tpl(0).
            then(function (result) {
                test.equals(result, 0);
            }, function (err) {
                test.ok(false, 'Ошибки быть не должно: ' + err);
            }).done(function () { test.done(); });
    },
    'test-num-e49471c7-383f-411a-a29d-e5fdf9939b34': function (test) {
        var tpl = v('n floor');
        tpl(0.1).
            then(function (result) {
                test.equals(result, 0);
            }, function (err) {
                test.ok(false, 'Ошибки быть не должно: ' + err);
            }).done(function () { test.done(); });
    },
    'test-num-0add91a8-77f2-4d92-ace0-6985b82c9be5': function (test) {
        var tpl = v('n floor');
        tpl(0.5).
            then(function (result) {
                test.equals(result, 0);
            }, function (err) {
                test.ok(false, 'Ошибки быть не должно: ' + err);
            }).done(function () { test.done(); });
    },
    'test-num-db861f20-62e3-4225-80c3-a43070f47442': function (test) {
        var tpl = v('n floor');
        tpl(0.9).
            then(function (result) {
                test.equals(result, 0);
            }, function (err) {
                test.ok(false, 'Ошибки быть не должно: ' + err);
            }).done(function () { test.done(); });
    },
    'test-num-22cfd06d-6caa-4d65-9a46-81c40a1df79a': function (test) {
        var tpl = v('n floor');
        tpl(-0.1).
            then(function (result) {
                test.equals(result, -1);
            }, function (err) {
                test.ok(false, 'Ошибки быть не должно: ' + err);
            }).done(function () { test.done(); });
    },
    'test-num-defbffff-1b08-4a26-8440-c82c5257cb93': function (test) {
        var tpl = v('n floor');
        tpl(-0.5).
            then(function (result) {
                test.equals(result, -1);
            }, function (err) {
                test.ok(false, 'Ошибки быть не должно: ' + err);
            }).done(function () { test.done(); });
    },
    'test-num-49acdb58-0b69-4152-ac66-bd8ff2dbff19': function (test) {
        var tpl = v('n floor');
        tpl(-0.9).
            then(function (result) {
                test.equals(result, -1);
            }, function (err) {
                test.ok(false, 'Ошибки быть не должно: ' + err);
            }).done(function () { test.done(); });
    },
    'test-num-90403326-a55b-4e3e-b05d-5680b31288a7': function (test) {
        var tpl = v('n floor');
        tpl(-1).
            then(function (result) {
                test.equals(result, -1);
            }, function (err) {
                test.ok(false, 'Ошибки быть не должно: ' + err);
            }).done(function () { test.done(); });
    },
    'test-num-c0e152f7-75c2-4991-8f07-c9edc39bed1a': function (test) {
        var tpl = v('n floor');
        tpl(-4.5).
            then(function (result) {
                test.equals(result, -5);
            }, function (err) {
                test.ok(false, 'Ошибки быть не должно: ' + err);
            }).done(function () { test.done(); });
    },
    // round
    'test-num-1a9667e4-b28c-4698-b9eb-59b3dfae9298': function (test) {
        var tpl = v('n round');
        tpl(4.5).
            then(function (result) {
                test.equals(result, 5);
            }, function (err) {
                test.ok(false, 'Ошибки быть не должно: ' + err);
            }).done(function () { test.done(); });
    },
    'test-num-3dd05e3e-20bc-4c83-be81-443dfebfb33c': function (test) {
        var tpl = v('n round');
        tpl(1.0).
            then(function (result) {
                test.equals(result, 1);
            }, function (err) {
                test.ok(false, 'Ошибки быть не должно: ' + err);
            }).done(function () { test.done(); });
    },
    'test-num-52c9b2d5-93f0-4862-a9ee-bacefdeb57a9': function (test) {
        var tpl = v('n round');
        tpl(1.1).
            then(function (result) {
                test.equals(result, 1);
            }, function (err) {
                test.ok(false, 'Ошибки быть не должно: ' + err);
            }).done(function () { test.done(); });
    },
    'test-num-5d7edb42-7a98-465d-a092-8b182a6d8b12': function (test) {
        var tpl = v('n round');
        tpl(1.5).
            then(function (result) {
                test.equals(result, 2);
            }, function (err) {
                test.ok(false, 'Ошибки быть не должно: ' + err);
            }).done(function () { test.done(); });
    },
    'test-num-4af1cee2-a71a-460e-90eb-f977d1d37e71': function (test) {
        var tpl = v('n round');
        tpl(1.9).
            then(function (result) {
                test.equals(result, 2);
            }, function (err) {
                test.ok(false, 'Ошибки быть не должно: ' + err);
            }).done(function () { test.done(); });
    },
    'test-num-97795914-f4d0-44d0-a723-27f7c977a996': function (test) {
        var tpl = v('n round');
        tpl(0).
            then(function (result) {
                test.equals(result, 0);
            }, function (err) {
                test.ok(false, 'Ошибки быть не должно: ' + err);
            }).done(function () { test.done(); });
    },
    'test-num-19985a65-42a7-45f4-b6fc-2c0c2ecf6088': function (test) {
        var tpl = v('n round');
        tpl(0.1).
            then(function (result) {
                test.equals(result, 0);
            }, function (err) {
                test.ok(false, 'Ошибки быть не должно: ' + err);
            }).done(function () { test.done(); });
    },
    'test-num-a7a3bb2b-e03f-4eb1-a7fa-9e30dca3c8a6': function (test) {
        var tpl = v('n round');
        tpl(0.5).
            then(function (result) {
                test.equals(result, 1);
            }, function (err) {
                test.ok(false, 'Ошибки быть не должно: ' + err);
            }).done(function () { test.done(); });
    },
    'test-num-6d3908e3-3d82-4ebd-9cbd-90e46aa2f547': function (test) {
        var tpl = v('n round');
        tpl(0.9).
            then(function (result) {
                test.equals(result, 1);
            }, function (err) {
                test.ok(false, 'Ошибки быть не должно: ' + err);
            }).done(function () { test.done(); });
    },
    'test-num-feea7bae-ebaa-444c-9dcd-17197dea7277': function (test) {
        var tpl = v('n round');
        tpl(-0.1).
            then(function (result) {
                test.equals(result, 0);
            }, function (err) {
                test.ok(false, 'Ошибки быть не должно: ' + err);
            }).done(function () { test.done(); });
    },
    'test-num-c530c932-a835-48de-8307-52cc4916c47c': function (test) {
        var tpl = v('n round');
        tpl(-0.5).
            then(function (result) {
                test.equals(result, 0);
            }, function (err) {
                test.ok(false, 'Ошибки быть не должно: ' + err);
            }).done(function () { test.done(); });
    },
    'test-num-57d990ff-696b-47ad-bdac-4a00476fb9e7': function (test) {
        var tpl = v('n round');
        tpl(-0.9).
            then(function (result) {
                test.equals(result, -1);
            }, function (err) {
                test.ok(false, 'Ошибки быть не должно: ' + err);
            }).done(function () { test.done(); });
    },
    'test-num-5544b770-66df-4fae-9fad-fd97d9aa859a': function (test) {
        var tpl = v('n round');
        tpl(-1).
            then(function (result) {
                test.equals(result, -1);
            }, function (err) {
                test.ok(false, 'Ошибки быть не должно: ' + err);
            }).done(function () { test.done(); });
    },
    'test-num-296bda09-90e4-4d86-8b91-82a3c9cc44c6': function (test) {
        var tpl = v('n round');
        tpl(-4.5).
            then(function (result) {
                test.equals(result, -4);
            }, function (err) {
                test.ok(false, 'Ошибки быть не должно: ' + err);
            }).done(function () { test.done(); });
    },
    'test-bool-4811b642-a8ca-44f7-9d77-bcb2b1447aab': function (test) {
        var tpl = v(['n', 1]);
        tpl(1).
            then(function (result) {
                test.ok(false, 'Должна быть ошибка');
            }, function (err) {
                test.ok(err);
            }).done(function () { test.done(); });
    },
};
