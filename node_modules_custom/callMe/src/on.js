"use strict";

var _ = require('lodash-node');

var cmn = require('./cmnData');

/**
 * Subscribe on deferred event
 * @param evName - event name
 * @param cb - callback
 */
function on(evName, cb) {
    if (!_.isString(evName) || !_.isFunction(cb)) {
        console.error('CallByTime.on: invalid argumrnts');
        return;
    }
    if (cmn.eventCallbacks[evName]) {
        console.log('CallByTime.on WARNING: old callback on ' + evName + ' is lost');
    }
    cmn.eventCallbacks[evName] = cb;
}

module.exports = on;